(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{356:function(e,t,n){"use strict";(function(e){var r=n(15),a=n(13),i=n(0),o=n(318),s=n(319),l=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return r.c(n,t),n.prototype.render=function(){if(void 0===this.props.edge)return i.createElement(o.a,{as:"h3",className:"centered"},"Click an Edge to view information");if(this.props.edge.properties.data.every(function(e){return a.isNull(e)}))return i.createElement(o.a,{as:"h5",className:"centered"},"Edge contains no underlying events.");var t=a.cloneDeep(this.props.edge),n=new Set,r=t.properties.data.map(function(e){if(a.isNull(e))return{};if(Object.keys(e).forEach(function(e){return n.add(a.capitalize(e))}),"timestamp"in e){var t=new Date(0);t.setUTCSeconds(Number(e.timestamp)),e.timestamp=a.toString(t)}return a.fromPairs(a.toPairs(e).map(function(e){var t=e[0],n=e[1];return[a.capitalize(t),n]}))}),l=Array.from(n);return i.createElement(s.a,{celled:!0,striped:!0,headerRow:l,fixed:!0,tableData:r,renderBodyRow:function(t,n){return e.console.log(t,n),{key:"row-"+n,cells:Object.values(t).map(function(e){if(a.isNull(e))return"";if(a.isNumber(e))return e;var t=JSON.stringify(e);return t.slice(1,t.length-1)}).slice(),style:{wordBreak:"break-all"}}}})},n}(i.Component);t.a=l}).call(this,n(44))},387:function(e,t,n){e.exports=n(600)},388:function(e,t,n){},600:function(e,t,n){"use strict";n.r(t);n(388),n(390);var r,a,i,o=n(0),s=n(99),l=n(15),c=(n(397),n(82)),d=n(83),u=n.n(d),p=n(100),m=(n(413),n(603)),h=n(602),f=n(604),E=n(605),v=n(113),g=n(344),y=n(217),b=n(13),S=n(49),k=n.n(S),T=n(323),N=n(318),C=n(214),_=n(345),D=n(322);function w(e,t){return{type:r.SET_NODES_AND_EDGES,payload:{nodes:e,edges:t}}}function O(e){return{type:a.SET_SELECTED_EDGE,edges:tt.getState().graph.edges,payload:{edge:e}}}function P(e){return{type:i.SET_SELECTED_NODE,nodes:tt.getState().graph.nodes,payload:{node:e}}}!function(e){e.SET_NODES="[graph] SET_NODES",e.SET_EDGES="[graph] SET_EDGES",e.SET_NODES_AND_EDGES="[graph] SET_NODES_AND_EDGES"}(r||(r={})),(a||(a={})).SET_SELECTED_EDGE="[selected_edge] SET_SELECTED_EDGE",(i||(i={})).SET_SELECTED_NODE="[selected_node] SET_SELECTED_NODE";var I,R=n(176),x=n(291),G=n(303),B=function(e){return o.createElement("div",null,o.createElement(R.a,{padded:"very",basic:!0,className:"container",style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"}},o.createElement(x.a,{active:!0,inverted:!0},o.createElement(G.a,{size:"huge"},e.text))))},L=n(120),A=n(304),j=n(305);function U(e){return{type:I.SET_VISIBLE_NODES,payload:{nodes:e}}}function H(e){return{type:I.PULL_IN_NEIGHBORS,payload:{node:e},nodes:tt.getState().graph.nodes,edges:tt.getState().graph.edges}}function F(e){return{type:I.SET_VISIBLE_NODE_TYPES,payload:{nodeTypes:e}}}function M(e){return{type:I.SET_VISIBLE_EDGE_TYPES,payload:{edgeTypes:e}}}function V(e,t){return{type:I.RUN_MUTATOR_FROM_NODE,selectedNode:e,mutator:t,nodes:tt.getState().graph.nodes,edges:tt.getState().graph.edges,visibleNodes:tt.getState().visibleGraph.present.visibleNodes,visibleEdges:tt.getState().visibleGraph.present.visibleEdges,visibleNodeTypes:tt.getState().visibleGraph.present.visibleNodeTypes,visibleEdgeTypes:tt.getState().visibleGraph.present.visibleEdgeTypes}}function q(e){return b.split(e,"_").map(function(e){if(e.length>1){var t=Array.from(e),n=t[0],r=t.slice(1);return[n.toUpperCase()].concat(r).join("")}return e.toUpperCase()}).join(" ")}!function(e){e.SET_VISIBLE_NODES="[visible_graph] SET_VISIBLE_NODES",e.SET_VISIBLE_EDGES="[visible_graph] SET_VISIBLE_EDGES",e.PULL_IN_NEIGHBORS="[visible_graph] PULL_IN_NEIGHBORS",e.HIDE_NODE="[visible_graph] HIDE_NODE",e.ADD_NODE="[visible_graph] ADD_NODE",e.SET_VISIBLE_NODE_TYPES="[visible_graph] SET_VISIBLE_NODE_TYPES",e.SET_VISIBLE_EDGE_TYPES="[visible_graph] SET_VISIBLE_EDGE_TYPES",e.RUN_MUTATOR_FROM_NODE="[mutator] RUN_MUTATOR_FROM_NODE"}(I||(I={}));var W=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={nodeTypes:[],groupedNodes:{},nodeColors:{},isLoading:!1,results:{},value:""},t.resetComponent=function(){return t.setState({isLoading:!1,results:{},value:""})},t.handleResultSelect=function(e,n){var r;t.setState({value:n.result._display}),tt.dispatch((r=n.result.id,{type:I.ADD_NODE,payload:{node:r},nodes:tt.getState().graph.nodes,edges:tt.getState().graph.edges})),tt.dispatch(P(n.result.id))},t.handleSearchChange=function(e,n){t.setState({isLoading:!0,value:void 0===n.value?"":n.value}),setTimeout(function(){if(t.state.value.length<1)return t.resetComponent();var e=new RegExp(b.escapeRegExp(t.state.value),"i"),n=function(t){return e.test(JSON.stringify(t.properties))},r=b.reduce(t.state.groupedNodes,function(e,t,r){var a=b.filter(t,n);return a.length&&(e[r]={name:r,results:a}),e},{});t.setState({isLoading:!1,results:r})},300)},t.resultsRender=function(e){return o.createElement("div",{key:e.properties._key,style:{wordBreak:"break-all"}},o.createElement(L.a,{content:e._display,color:"blue",style:{display:"flex",justifyContent:"center"},size:"large"}),b.toPairs(e.properties).map(function(e){var n=e[0],r=e[1];return o.createElement(A.a.Item,{key:n},o.createElement(A.a.Content,null,o.createElement("b",null,q(n)),":"," ",z(r,t.state.value)))}))},t.categoryRender=function(e){var n=e.name;return o.createElement(L.a,{tag:!0,style:{backgroundColor:t.state.nodeColors[n||""]}},n)},t}return l.c(t,e),t.getDerivedStateFromProps=function(e,t){var n=b.groupBy(e.nodes,"_node_type"),r=Object.keys(n),a={};return b.toPairs(n).map(function(e){var t=e[0],n=e[1];return a[t]=n[0].color}),l.a({},t,{groupedNodes:n,nodeTypes:r,nodeColors:a})},t.prototype.render=function(){return o.createElement(j.a,{input:{fluid:!0,placeholder:"Search for a node across all properties (min 3 characters)."},category:!0,loading:this.state.isLoading,onResultSelect:this.handleResultSelect,onSearchChange:b.debounce(this.handleSearchChange,500,{leading:!0}),results:this.state.results,value:this.state.value,resultRenderer:this.resultsRender,categoryRenderer:this.categoryRender,fluid:!0,minCharacters:3})},t}(o.Component),z=function(e,t){if(void 0===e&&(e=""),void 0===t&&(t=""),null===e)return e;if(!t.trim())return e.toString();var n=new RegExp("("+b.escapeRegExp(t)+")","gi");return e.toString().split(n).filter(function(e){return e}).map(function(e,t){return n.test(e)?o.createElement("mark",{key:t},e):e})},J=n(356),Y=n(69),X=(function(e){function t(t){var n=e.call(this,t)||this;return n.setHintValue=function(e){n.setState({value:"foo"})},n.resetHintValue=function(){n.setState({value:null})},n.state={valuke:null},n}l.c(t,e),t.prototype.render=function(){if(void 0===this.props.edge)return"";var e=b.countBy(this.props.edge.properties.data,"timestamp"),t=b.toPairs(e).map(function(e){var t=new Date(0);return t.setUTCSeconds(Number(e[0])),{x:t,y:e[1]}}),n=Object(Y.g)(Y.e);return o.createElement(n,{xType:"time",xDomain:[this.props.earliestEvent,this.props.latestEvent],height:300,margin:{bottom:70}},o.createElement(Y.a,null),o.createElement(Y.c,null),o.createElement(Y.d,{title:"Time",tickLabelAngle:-45}),o.createElement(Y.f,null),o.createElement(Y.b,{data:b.sortBy(t.slice(),"x")}))}}(o.Component),n(319)),Z=function(e){function t(t){return e.call(this,t)||this}return l.c(t,e),t.prototype.render=function(){var e=this.props.node;return void 0===e?o.createElement(N.a,{as:"h3",className:"centered"},"Click a node to view information"):o.createElement(X.a,{celled:!0,striped:!0,columns:2},o.createElement(X.a.Header,null,o.createElement(X.a.Row,null,o.createElement(X.a.HeaderCell,{colSpan:"2",textAlign:"center",style:{backgroundColor:e.color}},o.createElement(N.a,null,e._display))),o.createElement(X.a.Row,null,o.createElement(X.a.HeaderCell,null,"Key"),o.createElement(X.a.HeaderCell,null,"Value")),Object.keys(e.properties).map(function(t,n){return o.createElement(X.a.Row,{key:n},o.createElement(X.a.Cell,null,q(t)),o.createElement(X.a.Cell,{style:{wordBreak:"break-all"}},null===e.properties[t]||"object"===typeof e.properties[t]?JSON.stringify(e.properties[t]):e.properties[t]))})))},t}(o.Component),$=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l.c(t,e),t.prototype.render=function(){var e=JSON.stringify(this.props.earliestEvent),t=JSON.stringify(this.props.latestEvent);return"Invalid Date"===this.props.earliestEvent.toString()&&"Invalid Date"===this.props.latestEvent.toString()&&(e=" No Timestamps ",t=" No Timestamps "),o.createElement(C.a,{columns:"equal"},o.createElement(C.a.Row,{centered:!0},o.createElement(C.a.Column,null,"Visible Nodes: "+this.props.visibleNodes,o.createElement("br",null),"Visible Edges: "+this.props.visibleEdges),o.createElement(C.a.Column,null,"Total Nodes: "+this.props.nodes,o.createElement("br",null),"Total Edges: "+this.props.edges)),o.createElement(C.a.Row,null,o.createElement(C.a.Column,{width:16},"Earliest Event: "+e.slice(1,e.length-1),o.createElement("br",null),"Latest Event: "+t.slice(1,t.length-1))))},t}(o.Component),K=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fieldsToTable=function(e){return o.createElement(X.a,{className:"centered",compact:!0},b.toPairs(e).map(function(e){return o.createElement(X.a.Row,null,o.createElement(X.a.Cell,null,q(e[0])),o.createElement(X.a.Cell,null,"string"===typeof e[1]?q(e[1]):JSON.stringify(e[1])))}))},t.handleNodeClick=function(e){return function(t){tt.dispatch(P(e))}},t.handleEgeClick=function(e){return function(t){tt.dispatch(O(e))}},t.makeNodesTable=function(){return o.createElement(X.a,{selectable:!0,celled:!0,sortable:!0},o.createElement(X.a.Header,null,o.createElement(X.a.HeaderCell,null,"Node Type"),o.createElement(X.a.HeaderCell,null,"Display")),o.createElement(X.a.Body,null,t.props.visibleNodes.map(function(e){return o.createElement(X.a.Row,{onClick:t.handleNodeClick(e.id),key:e.id},o.createElement(X.a.Cell,null,e._node_type),o.createElement(X.a.Cell,null,e._display))})))},t.makeEdgesTable=function(e){return o.createElement(X.a,{selectable:!0,celled:!0,sortable:!0},o.createElement(X.a.Header,null,o.createElement(X.a.HeaderCell,null,"From"),o.createElement(X.a.HeaderCell,null,"To"),o.createElement(X.a.HeaderCell,null,"Type")),o.createElement(X.a.Body,null,t.props.visibleEdges.map(function(n){return o.createElement(X.a.Row,{onClick:t.handleEgeClick(n.id),key:n.id},o.createElement(X.a.Cell,null,e[n.to]._display),o.createElement(X.a.Cell,null,e[n.from]._display),o.createElement(X.a.Cell,null,n.label))})))},t}return l.c(t,e),t.prototype.render=function(){var e=this.props.visibleNodes.reduce(function(e,t){return e[t.id]=t,e},{});return o.createElement(R.a,{style:{height:"92vh",overflowY:"auto"}},o.createElement(D.a,{defaultActiveIndex:[0,1,2,3,4,5,6],exclusive:!1,panels:[{key:"nodes_table",title:{children:o.createElement(T.a,{horizontal:!0},o.createElement(N.a,{as:"h3"},o.createElement(v.a,{name:"linode"})," Nodes"))},content:{children:this.makeNodesTable()}},{key:"nodes_table",title:{children:o.createElement(T.a,{horizontal:!0},o.createElement(N.a,{as:"h3"},o.createElement(v.a,{name:"arrows alternate horizontal"})," Edges"))},content:{children:this.makeEdgesTable(e)}}]}))},t}(o.PureComponent),Q=n(358),ee=n.n(Q),te=function(e){function t(t){var n=e.call(this,t)||this;return n.state={items:[],groups:[]},n}return l.c(t,e),t.getDerivedStateFromProps=function(e){var t=0;var n=b.compact(b.flattenDeep(e.visibleEdges.map(function(n){var r=b.find(e.visibleNodes,{id:n.to});if(!b.isNil(n)&&!b.isUndefined(r)&&"properties"in n&&0!==n.properties.data.length)return n.properties.data.filter(function(e){return!b.isNil(e)&&"timestamp"in e}).map(function(e){var a=new Date(0);return a.setUTCSeconds(e.timestamp),{id:t++,content:r._display+" <span>("+n.label+")</span>",start:a,group:n.label,style:"background-color: "+r.color}})})));return{items:n,groups:b.map(b.uniq(b.map(n,"group")),function(e){return{id:e,content:e}})}},t.prototype.render=function(){var e=this;return o.createElement("div",{style:{paddingTop:"5px"}},o.createElement(ee.a,{ref:function(t){return null===t?null==e.el:e.el=t.$el},items:this.state.items,groups:this.state.groups,options:{width:"100%",maxHeight:"90vh",height:"90vh",verticalScroll:!0,type:"box",showCurrentTime:!1}}))},t}(o.Component),ne=n(359),re=n(228),ae=n.n(re),ie={nodes:{shape:"circle",shapeProperties:{borderDashes:[2,0]},borderWidth:2,color:{border:"#fff"},font:{size:8},scaling:{label:{enabled:!0}}},layout:{improvedLayout:!1,hierarchical:!1},edges:{color:{color:"#A9A9A9",inherit:!1},font:{align:"horizontal"},smooth:!0},physics:{solver:"forceAtlas2Based",forceAtlas2Based:{gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.5,avoidOverlap:.5},adaptiveTimestep:!0,stabilization:{iterations:200,fit:!0}},height:.965*window.innerHeight+"px"},oe=JSON.parse(JSON.stringify(ie));oe.physics=!1,oe.layout.hierarchical={enabled:!0,sortMethod:"directed"};var se=n(143),le={visibleNodes:[],visibleEdges:[],visibleNodeTypes:[],visibleEdgeTypes:[],earliestEvent:new Date(0),latestEvent:new Date},ce=25;function de(e,t){var n=b.map(e,"id");return t.filter(function(e){return b.includes(n,e.from)&&b.includes(n,e.to)})}function ue(e){for(var t=e[0],n=e[0],r=1,a=e.length;r<a;r++){var i=e[r];t=i<t?i:t,n=i>n?i:n}return[t,n]}function pe(e){var t=new Date(0);return t.setUTCSeconds(Number(e)),t}var me,he=function(){return function(){this.name="Backward Fanout",this.category="Traversal",this.mutate=function(e,t,n,r,a,i,o){if(void 0===o)return{visibleNodes:e,visibleEdges:t};for(var s=[o],l=[],c=function(){var e=s.pop(),t=i.filter(function(t){return t.to===e}).filter(function(e){return b.includes(r,e.label)}).map(function(e){return e.from}).filter(function(e){return!b.includes(l,e)});t.forEach(function(e){return l.push(e)}),t.filter(function(e){return!b.includes(s,e)}).forEach(function(e){return s.push(e)})};0!==s.length;)c();var d=l.map(function(e){return b.find(a,{id:e})});return{visibleNodes:e=b.uniqBy(e.concat(b.compact(d)),"id"),visibleEdges:t=b.uniqBy(t.concat(de(e,i)),"id")}}}}(),fe=function(){return function(){this.name="Forward Fanout",this.category="Traversal",this.mutate=function(e,t,n,r,a,i,o){if(void 0===o)return{visibleNodes:e,visibleEdges:t};for(var s=[o],l=[],c=function(){var e=s.pop(),t=i.filter(function(t){return t.from===e}).filter(function(e){return b.includes(r,e.label)}).map(function(e){return e.to}).filter(function(e){return!b.includes(l,e)});t.forEach(function(e){return l.push(e)}),t.filter(function(e){return!b.includes(s,e)}).forEach(function(e){return s.push(e)})};0!==s.length;)c();var d=l.map(function(e){return b.find(a,{id:e})});return{visibleNodes:e=b.uniqBy(e.concat(b.compact(d)),"id"),visibleEdges:t=b.uniqBy(t.concat(de(e,i)),"id")}}}}(),Ee=function(e){me=e},ve=function(e){return me.getNodeAt(e)},ge=function(){me.stopSimulation()},ye=function(e){function t(t){var n=e.call(this,t)||this;return n.runBackWardsTravel=function(){var e=Number(ve(n.props.position));tt.dispatch(V(e,new he))},n.runForwardsTravel=function(){var e=Number(ve(n.props.position));tt.dispatch(V(e,new fe))},n}return l.c(t,e),t.prototype.render=function(){return o.createElement(se.b,{id:"graph_context_menu"},this.props.children,o.createElement(se.a,{id:"graph_context_menu"},o.createElement(se.c,{onClick:this.runBackWardsTravel},"Backtrack Node"),o.createElement(se.c,{onClick:this.runForwardsTravel},"Show all descendents")))},t}(o.Component),be=function(e){function t(t){var n=e.call(this,t)||this;return n.onClick=function(e){var t=e.nodes,n=e.edges;Object(ne.hideMenu)(),0!==t.length?tt.dispatch(P(t[0])):0!==n.length&&tt.dispatch(O(n[0]))},n.onDoubleClick=function(e){var t=e.nodes;0!==t.length&&tt.dispatch(H(t[0]))},n.onHold=function(e){var t,n=e.nodes;0!==n.length&&tt.dispatch((t=n[0],{type:I.HIDE_NODE,payload:{node:t}}))},n.onRightClick=function(e){return n.setState(e.pointer.DOM),ge(),!0},n}return l.c(t,e),t.prototype.render=function(){return o.createElement(ye,{position:this.state},o.createElement(ae.a,{key:"graph",graph:{edges:this.props.visibleEdges,nodes:this.props.visibleNodes},getNetwork:Ee,options:ie,events:{click:this.onClick,doubleClick:this.onDoubleClick,hold:this.onHold,oncontext:this.onRightClick}}))},t}(o.Component),Se=n(209),ke=n(333),Te={Markdown:{h3:"###"},JIRA:{h3:"h3. "}},Ne=function(e){function t(t){var n=e.call(this,t)||this;return n.copy=function(){var e=document.getElementById("segment");if(null!==e){var t=document.createElement("textarea");t.innerHTML=e.innerText,document.body.appendChild(t),t.select(),document.execCommand("copy"),t.remove()}},n.nodesMDTable=function(){var e=b.groupBy(n.props.visibleNodes,"_node_type");return b.toPairs(e).map(function(e){return o.createElement("div",{key:e[0]},o.createElement("div",null,n.state.h3," ",e[0]),o.createElement("div",null,"|",Object.keys(e[1][0].properties).join("|"),"|"),o.createElement("div",null,"|",Object.keys(e[1][0].properties).map(function(e){return"--"}).join("|"),"|"),o.createElement("div",null,e[1].map(function(e){return o.createElement("div",{key:e.id},"|",Object.keys(e.properties).map(function(t){return"string"===typeof e.properties[t]?e.properties[t].replace("|","\\|"):JSON.stringify(e.properties[t]).replace("|","\\|")}).join("|"),"|")})),o.createElement("br",null))})},n.edgesMDTable=function(){var e=n.props.visibleNodes.reduce(function(e,t){return e[t.id]=t,e},{}),t=b.flatten(n.props.visibleEdges.map(function(e){return e.properties.data.length>0?e.properties.data.map(function(t){var n=new Date(0),r=b.get(t,"timestamp",-1);return-1!==r&&"null"!==r?(n.setUTCSeconds(r),r=JSON.stringify(n)):r=JSON.stringify("Unknown"),{from:e.from,to:e.to,type:e.label,data:JSON.stringify(b.omit(t,"timestamp")).replace("|","\\|"),timestamp:r.slice(1,r.length-1)}}):[{from:e.from,to:e.to,type:e.label,data:JSON.stringify({}),timestamp:"-1"}]}));return t=b.sortBy(t.map(function(t){return l.a({},t,{to:e[t.to]._display,from:e[t.from]._display})}),"timestamp"),o.createElement("div",null,o.createElement("div",null,n.state.h3," Edges"),o.createElement("div",null,"|",Object.keys(t[0]).join("|"),"|"),o.createElement("div",null,"|",Object.keys(t[0]).map(function(e){return"--"}).join("|"),"|"),t.map(function(e,t){return o.createElement("div",{key:t},"|",Object.values(e).join("|"),"|")}))},n.handleSyntaxChange=function(e,t){var r=Te[t.value];n.setState(r)},n.state=l.a({},Object.values(Te)[0]),n}return l.c(t,e),t.prototype.render=function(){return o.createElement(R.a,{key:"segment",style:{height:"92vh",overflowY:"auto"}},o.createElement(Se.a,{primary:!0,key:"btn",icon:"copy",onClick:this.copy,content:"Copy Table"}),o.createElement(ke.a,{style:{float:"right"},onChange:this.handleSyntaxChange,options:Object.keys(Te).map(function(e){return{key:e,text:e,value:e}}),placeholder:"Choose markdown syntax"}),o.createElement(T.a,null),o.createElement("div",{id:"segment"},o.createElement("div",null,this.props.visibleNodes.length>0&&this.nodesMDTable()),o.createElement("div",null,this.props.visibleEdges.length>0&&this.edgesMDTable())))},t}(o.PureComponent),Ce=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l.c(t,e),t.prototype.render=function(){return o.createElement(ae.a,{graph:{edges:this.props.visibleEdges,nodes:this.props.visibleNodes},options:oe})},t}(o.Component),_e=n(43),De=n(381),we=n(606),Oe=n(221),Pe=n(342),Ie=n(343),Re=n(338),xe=n(341),Ge=function(e){function t(t){var n=e.call(this,t)||this;return n.setActiveTranformer=function(e,t){n.setState({selectedTransformer:t.value})},n.setActiveBackend=function(e,t){n.setState({selectedBackend:t.value})},n.handleToggleAdvanced=function(){n.setState({advancedVisible:!n.state.advancedVisible})},n.updateTransformers=function(e,t){n.setState({selectedDatasource:t.value,selectedTransformer:t.value.transformers[0],params:t.value.params,isExternal:"external"===t.value.type,formParams:{}})},n.handleCommentChange=function(e,t){n.setState({comment:t.value})},n.onDrop=function(e){return function(t){var r=n.state.formParams;r[e]=t[0],n.setState({formParams:r})}},n.onParamChange=function(e){return function(t,r){var a=n.state.formParams;a[e]=r.value,n.setState({formParams:a})}},n.onSubmit=function(){var e=n.state.params.filter(function(e){return!0===e.required&&!Object.keys(n.state.formParams).includes(e.name)});if(e.length>0){var t=e.map(function(e){return q(e.name.replace("_file",""))});n.setState({errorMessage:"The following parameters are required: "+t.join(", "),graphRoute:"",processing:!1,steps:{upload:{active:!0,done:!1},transform:{active:!1,done:!1},view:{active:!1,done:!1}}})}else{var r=new FormData;r.append("datasource",n.state.selectedDatasource.id),r.append("backend",n.state.selectedBackend.id),r.append("transformer",n.state.selectedTransformer.id),r.append("comment",n.state.comment),n.state.params.forEach(function(e){void 0!==n.state.formParams[e.name]&&r.append(e.name,n.state.formParams[e.name])}),n.setState({processing:!0,errorMessage:"",graphRoute:"",steps:{upload:{active:!0,done:!0},transform:{active:!0,done:!1},view:{active:!1,done:!1}}}),fetch("/api"+n.props.postRoute,{method:"POST",body:r}).then(function(e){return e.json()}).then(function(e){e.hasOwnProperty("message")?n.setState({errorMessage:"Error on parse: "+e.message,graphRoute:"",processing:!1,steps:{upload:{active:!0,done:!1},transform:{active:!1,done:!1},view:{active:!1,done:!1}}}):e.hasOwnProperty("resp")?n.setState({graphRoute:e.resp,redirect:!1,processing:!1,steps:{upload:{active:!0,done:!0},transform:{active:!0,done:!0},view:{active:!0,done:!0,link:e.resp}}}):(void 0!==n.props.postUploadHandler&&n.props.postUploadHandler(),n.setState({processing:!1,graphRoute:e.self,redirect:!0,steps:{upload:{active:!0,done:!0},transform:{active:!0,done:!0},view:{active:!0,done:!1,link:e.self}}}))})}},n.makeDropZones=function(){return n.state.params.map(function(e){return o.createElement(_e.Form.Field,{key:e.name,required:e.required,name:e.name},o.createElement(De.a,{multiple:!1,onDrop:n.onDrop(e.name)},function(t){var r=t.getRootProps,a=t.getInputProps;return o.createElement("div",l.a({},r()),o.createElement("input",l.a({},a())),o.createElement(R.a,{placeholder:!0},o.createElement(N.a,{icon:!0},o.createElement(v.a,{name:"file archive"}),e.name in n.state.formParams?n.state.formParams[e.name].name:q(e.name.replace("_file",""))),o.createElement(Se.a,{primary:!0},"Upload Data")))}))})},n.makeInputs=function(){return n.state.params.map(function(e){return o.createElement(_e.Form.Input,{name:e.name,key:e.name,placeholder:e.default,label:q(e.name),onChange:n.onParamChange(e.name),required:e.required})})},n.makeSteps=function(){return o.createElement(Oe.a.Group,{attached:"top",widths:3},o.createElement(Oe.a,{completed:n.state.steps.upload.done,active:n.state.steps.upload.active},o.createElement(v.a,{name:"upload"}),o.createElement(Oe.a.Content,null,o.createElement(Oe.a.Title,null,"Upload Data"),o.createElement(Oe.a.Description,null,"Select from available data sources."))),o.createElement(Oe.a,{completed:n.state.steps.transform.done,active:n.state.steps.transform.active},o.createElement(v.a,{name:"cogs"}),o.createElement(Oe.a.Content,null,o.createElement(Oe.a.Title,null,"Transform"),o.createElement(Oe.a.Description,null,"Transform Data"))),o.createElement(Oe.a,{completed:n.state.steps.view.done,active:n.state.steps.view.active,link:void 0!==n.state.steps.view.link,href:n.state.steps.view.link},o.createElement(v.a,{name:"linode"}),o.createElement(Oe.a.Content,null,o.createElement(Oe.a.Title,null,"View Graph"))))},n.pipelines=[],n.backends=[],n.state={ready:!1,comment:"",isExternal:!1,selectedDatasource:{},selectedTransformer:{},selectedBackend:{id:"NetworkX",name:"NetworkX"},params:[],formParams:{},graphRoute:"",redirect:!1,errorMessage:"",steps:{upload:{active:!0,done:!1},transform:{active:!1,done:!1},view:{active:!1,done:!1}},processing:!1,advancedVisible:!1},n}return l.c(t,e),t.prototype.componentWillMount=function(){var e=this;fetch("/api/datasources").then(function(e){return e.json()}).then(function(t){if(void 0!==t){e.pipelines=t.datasources,e.backends=t.backends;var n=e.pipelines[0],r="external"===n.type;e.setState({selectedDatasource:n,selectedTransformer:n.transformers[0],params:n.params,ready:!0,isExternal:r})}})},t.prototype.render=function(){return!1===this.state.ready?o.createElement(B,{text:"Loading Configurations"}):o.createElement(Pe.a,{style:{marginTop:"50px",width:"65%"}},this.makeSteps(),o.createElement(_e.Form,{className:"attached fluid segment"},o.createElement(_e.Form.Group,{widths:"equal"},o.createElement(_e.Form.Select,{search:!0,name:"datasource",label:o.createElement("div",null,o.createElement(Ie.a,{trigger:o.createElement(v.a,{name:"info circle"}),content:"Select the type of data you would like graphed."}),o.createElement("span",{style:{color:"rgba(0,0,0,.87)",fontSize:".92857143em",fontWeight:700}},"Data Source")),placeholder:"Select Data Source",value:this.state.selectedDatasource,options:this.pipelines.map(function(e){return{key:e.id,text:e.name,value:e}}),onChange:this.updateTransformers}),this.state.advancedVisible&&this.state.selectedDatasource.transformers&&o.createElement(_e.Form.Select,{name:"transformer",label:o.createElement("div",null,o.createElement(Ie.a,{trigger:o.createElement(v.a,{name:"info circle"}),content:"Different transformers may produce different graphs"}),o.createElement("span",{style:{color:"rgba(0,0,0,.87)",fontSize:".92857143em",fontWeight:700}},"Transformer")),placeholder:"Select Transformer",value:this.state.selectedTransformer,options:this.state.selectedDatasource.transformers.map(function(e){return{key:e.id,text:e.name,value:e}}),onChange:this.setActiveTranformer}),this.state.advancedVisible&&o.createElement(_e.Form.Select,{name:"backend",label:o.createElement("div",null,o.createElement(Ie.a,{trigger:o.createElement(v.a,{name:"info circle"}),content:"Destination of the graph. NetworkX will use the web GUI."}),o.createElement("span",{style:{color:"rgba(0,0,0,.87)",fontSize:".92857143em",fontWeight:700}},"Backend")),placeholder:"Select Transformer",value:this.state.selectedBackend,options:this.backends.map(function(e){return{key:e.id,text:e.name,value:e}}),onChange:this.setActiveBackend})),o.createElement(_e.Form.TextArea,{name:"comment",label:"Comment",placeholder:"",value:this.state.comment,onChange:this.handleCommentChange}),o.createElement(N.a,{textAlign:"center",as:"h5"},this.state.isExternal?"Input required parameters":"Upload Required Files"),o.createElement(_e.Form.Group,{className:"fluid",widths:"equal"},this.state.isExternal?this.makeInputs():this.makeDropZones()),o.createElement(_e.Form.Field,null,o.createElement(Re.a,{onChange:this.handleToggleAdvanced,checked:this.state.advancedVisible,label:"Show Advanced Options"})),o.createElement(Se.a,{style:{marginTop:"1em"},color:"blue",onClick:this.onSubmit},"Submit")),""!==this.state.errorMessage&&o.createElement(xe.a,{negative:!0,icon:"warning sign",attached:"bottom",header:"Error",content:this.state.errorMessage}),""!==this.state.graphRoute&&[o.createElement(xe.a,{key:"msg",positive:!0,icon:"lnode",attached:"bottom",header:"Graph succesfully created!",content:this.state.graphRoute}),this.state.redirect&&o.createElement(we.a,{key:"redirect",to:this.state.graphRoute})],this.state.processing&&o.createElement(xe.a,{info:!0,icon:!0,attached:"bottom"},o.createElement(v.a,{name:"circle notched",loading:!0}),o.createElement(xe.a.Content,null,o.createElement(xe.a.Header,null,"Graphing data"))))},t}(o.Component),Be=function(e){function t(t){var n=e.call(this,t)||this;return n.toggleNodeVisiblity=function(e,t){var r=String(t.value),a=n.props.visibleNodeTypes;a=t.checked?b.uniq(a.concat([r])):a.filter(function(e){return e!==r}),tt.dispatch(F(a))},n.toggleEdgeVisibility=function(e,t){var r=String(t.value),a=n.props.visibleEdgeTypes;a=t.checked?b.uniq(a.concat([r])):a.filter(function(e){return e!==r}),tt.dispatch(M(a))},n.state={allNodeTypes:[],allEdgeTypes:[]},n}return l.c(t,e),t.getDerivedStateFromProps=function(e){return{allEdgeTypes:b.uniq(b.map(e.edges,"label")),allNodeTypes:b.uniqBy(b.map(e.nodes,function(e){return{color:e.color,type:e._node_type}}),"type")}},t.prototype.render=function(){var e=this;return o.createElement(C.a,{columns:"equal",textAlign:"left",divided:!0},o.createElement(C.a.Column,null,o.createElement(N.a,{as:"h5"},"Node Types"),o.createElement(A.a,{floated:"left"},this.state.allNodeTypes.map(function(t){return o.createElement(A.a.Item,{key:t.type},o.createElement(Re.a,{checked:b.includes(e.props.visibleNodeTypes,t.type),value:t.type,onChange:e.toggleNodeVisiblity,label:t.type}))}))),o.createElement(C.a.Column,null,o.createElement(N.a,{as:"h5"},"Edge Types"),o.createElement(A.a,{floated:"left"},this.state.allEdgeTypes.map(function(t){return o.createElement(A.a.Item,{key:t},o.createElement(Re.a,{checked:b.includes(e.props.visibleEdgeTypes,t),value:t,onChange:e.toggleEdgeVisibility,label:t}))}))))},t}(o.Component),Le=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l.c(t,e),t.prototype.render=function(){return o.createElement("div",null,o.createElement(Se.a,{key:"undo",icon:"undo",content:"Undo",style:{marginLeft:"auto"},attached:"left",labelPosition:"left",onClick:this.props.onUndo,disabled:!this.props.canUndo}),o.createElement(Se.a,{key:"redo",icon:"redo",content:"Redo",attached:"right",style:{marginLeft:"auto"},labelPosition:"right",onClick:this.props.onRedo,disabled:!this.props.canRedo}),o.createElement(Se.a,{key:"reset",icon:"eraser",content:"Reset",style:{float:"right"},negative:!0,labelPosition:"right",onClick:this.props.onReset,disabled:!this.props.canUndo}))},t}(o.Component),Ae=Object(c.connect)(function(e){return{canUndo:e.visibleGraph.past.length>0,canRedo:e.visibleGraph.future.length>0}},function(e){return{onUndo:function(){return e(S.ActionCreators.undo())},onRedo:function(){return e(S.ActionCreators.redo())},onReset:function(){e(S.ActionCreators.jumpToPast(0))}}})(Le),je=["Loaded","File Of"],Ue=function(e){function t(t){var n=e.call(this,t)||this;return n.componentWillUnmount=function(){var e;tt.dispatch(F([])),tt.dispatch(M([])),tt.dispatch(w([],[])),tt.dispatch(U([])),tt.dispatch((e=[],{type:I.SET_VISIBLE_EDGES,payload:{edges:e}})),tt.dispatch(P(void 0)),tt.dispatch(O(void 0)),tt.dispatch(S.ActionCreators.clearHistory())},n.state={ready:!1},n}return l.c(t,e),t.prototype.componentDidUpdate=function(e){this.props.visibleNodes.length-e.visibleNodes.length===ce&&d.toastr.warning("Pull in limit ("+ce+") reached","Double click the node again to pull in more neighbours.")},t.prototype.loadGraph=function(){var e=this;fetch("/api/graph/"+this.props.match.params.id).then(function(e){return e.json()}).then(function(t){var n={directed:t.directed,edges:t.links.map(function(e){return{from:e.source,id:e.id,label:e.type,properties:e.properties,to:e.target}}),graph:t.graph,multigraph:t.multigraph,nodes:t.nodes.map(function(e){var t=Object.assign(e);return t.label=(e._display||"").substring(0,15),15===t.label.length&&(t.label+="..."),t.color=e._color,t})};tt.dispatch(F(b.uniq(b.map(n.nodes,"_node_type")))),tt.dispatch(M(b.uniq(b.map(n.edges,"label")).filter(function(e){return!b.includes(je,e)}))),tt.dispatch(w(n.nodes,n.edges));var r=n.nodes.filter(function(e){return"Alert"===e._node_type});if(r.length>0)tt.dispatch(U(r.slice())),r.map(function(e){return tt.dispatch(H(e.id))}),tt.dispatch(S.ActionCreators.clearHistory());else{var a=b.sampleSize(n.nodes,10);tt.dispatch(U(a)),tt.dispatch(H(a[0].id)),tt.dispatch(S.ActionCreators.clearHistory())}e.setState({ready:!0})})},t.prototype.loadAndResetView=function(){this.tab.state.activeIndex=0,this.loadGraph(),d.toastr.info("Evidence added to graph","Uploaded artifact merged into graph.",{timeOut:1e4})},t.prototype.componentWillMount=function(){this.loadGraph()},t.prototype.makeDivider=function(e,t){return o.createElement(T.a,{horizontal:!0},o.createElement(N.a,{as:"h4"},o.createElement(v.a,{name:t}),e))},t.prototype.render=function(){var e=this;return!1===this.state.ready?o.createElement(B,{text:"Fetching Graph Data"}):o.createElement(C.a,{columns:2,celled:"internally",padded:!1},o.createElement(C.a.Column,{width:10},o.createElement(_.a,{ref:function(t){return e.tab=t},menu:{color:"black",secondary:!0,pointing:!0,attached:"top"},panes:[{menuItem:"Graph",render:function(){return o.createElement(be,{visibleEdges:e.props.visibleEdges,visibleNodes:e.props.visibleNodes})}},{menuItem:"Tree",render:function(){return o.createElement(Ce,{visibleEdges:e.props.visibleEdges,visibleNodes:e.props.visibleNodes})}},{menuItem:"Timeline",render:function(){return o.createElement(te,{visibleEdges:e.props.visibleEdges,visibleNodes:e.props.visibleNodes})}},{menuItem:"Table",render:function(){return o.createElement(K,{visibleEdges:e.props.visibleEdges,visibleNodes:e.props.visibleNodes})}},{menuItem:"Markdown",render:function(){return o.createElement(Ne,{visibleEdges:e.props.visibleEdges,visibleNodes:e.props.visibleNodes})}},{menuItem:"Add Evidence",render:function(){return o.createElement(Ge,{postRoute:"/add/"+e.props.match.params.id,postUploadHandler:e.loadAndResetView.bind(e)})}}]})),o.createElement(C.a.Column,{width:6,stretched:!1,style:{overflowY:"auto",maxHeight:"100vh"}},o.createElement(C.a.Row,{centered:!0},o.createElement($,{nodes:this.props.nodes.length,edges:this.props.edges.length,visibleNodes:this.props.visibleNodes.length,visibleEdges:this.props.visibleEdges.length,latestEvent:this.props.latestEvent,earliestEvent:this.props.earliestEvent})),o.createElement("br",null),o.createElement(C.a.Row,null,o.createElement(D.a,{defaultActiveIndex:[0,1,2,3,4,5,6],exclusive:!1,panels:[{key:"node_search",title:{children:this.makeDivider("Node Search","search")},content:{children:o.createElement(W,{nodes:this.props.nodes})}},{key:"graph_controls",title:{children:this.makeDivider("Graph Controls","configure")},content:{children:o.createElement(Ae,null)}},{key:"node_visibility_controls",title:{children:this.makeDivider("Node/Edge Visibility","eye")},content:{children:o.createElement(Be,{nodes:this.props.nodes,edges:this.props.edges,visibleEdgeTypes:this.props.visibleEdgeTypes,visibleNodeTypes:this.props.visibleNodeTypes})}},{key:"node_info",title:{children:this.makeDivider("Node Info","info circle")},content:{children:o.createElement(Z,{node:this.props.selectedNode})}},{key:"edge_info",title:{children:this.makeDivider("Edge Info","info circle")},content:{children:[o.createElement(J.a,{key:"table",edge:this.props.selectedEdge}),!1]}}]}))))},t}(o.Component),He=Object(c.connect)(function(e){return{visibleNodes:e.visibleGraph.present.visibleNodes,visibleEdges:e.visibleGraph.present.visibleEdges,selectedNode:e.selectedNode.node,selectedEdge:e.selectedEdge.edge,nodes:e.graph.nodes,edges:e.graph.edges,visibleNodeTypes:e.visibleGraph.present.visibleNodeTypes,visibleEdgeTypes:e.visibleGraph.present.visibleEdgeTypes,latestEvent:e.visibleGraph.present.latestEvent,earliestEvent:e.visibleGraph.present.earliestEvent}})(Ue),Fe=n(164),Me=n(210),Ve=n(213),qe=n(211),We=n(114),ze=n(212),Je=n(170),Ye=function(e){function t(t){var n=e.call(this,t)||this;n.handlePageClick=function(e){e.currentTarget.dataset.page&&n.setState({currentPage:Number(e.currentTarget.dataset.page)})},n.handleDirectionClick=function(e){var t=e.currentTarget.dataset.direction,r=0;"LEFT"===t&&n.state.currentPage>1?r=-1:"RIGHT"===t&&n.state.currentPage<n.state.numberOfPages&&(r=1),0!==r&&n.setState({currentPage:n.state.currentPage+r})};var r=t.rowsPerPage||5,a=Math.ceil(t.data.length/r),i=t.columnHeader||Object.keys(t.data[0]||[]);return n.state={currentPage:1,rowsPerPage:r,numberOfPages:a,columns:i},n}return l.c(t,e),t.prototype.render=function(){var e=this,t=this.props.data,n=this.state,r=n.currentPage,a=n.rowsPerPage,i=n.numberOfPages,s=n.columns,c=t.slice((r-1)*a,r*a),d=this.state.currentPage-1;i<=3||1===this.state.currentPage?d=1:this.state.currentPage===i&&(d=this.state.currentPage-2);var u=Array.from(new Array(Math.min(3,i)),function(e,t){return t+d}),p=0;return o.createElement("div",null,o.createElement(X.a,l.a({},this.props.tableProps),this.props.header&&o.createElement(Fe.a,null,o.createElement(Me.a,null,s.map(function(e){return o.createElement(Ve.a,{key:e},e)}))),o.createElement(qe.a,null,c.map(function(e){return o.createElement(Me.a,{key:p++},s.map(function(t){return o.createElement(We.a,{collapsing:!0,key:p++,content:e[t]})}))})),o.createElement(ze.a,null,o.createElement(Me.a,null,o.createElement(Ve.a,l.a({},{colSpan:this.state.columns.length}),o.createElement(y.a,{floated:"right",pagination:!0},o.createElement(Je.a,{icon:"angle double left","data-page":1,onClick:this.handlePageClick}),o.createElement(Je.a,{"data-direction":"LEFT",onClick:this.handleDirectionClick,icon:"angle left"}),u.map(function(t){return o.createElement(Je.a,{key:t,content:""+t,"data-page":t,onClick:e.handlePageClick,active:t===e.state.currentPage,as:"a"})}),o.createElement(Je.a,{"data-direction":"RIGHT",onClick:this.handleDirectionClick,icon:"angle right"}),o.createElement(Je.a,{icon:"angle double right","data-page":i,onClick:this.handlePageClick})))))))},t}(o.Component),Xe=function(e){function t(t){var n=e.call(this,t)||this;return n.componentWillMount=function(){fetch("/api/categories/"+n.props.category).then(function(e){return e.json()}).then(function(e){return n.setState({entries:e,ready:!0})})},n.state={entries:[],ready:!1},n}return l.c(t,e),t.prototype.render=function(){var e=this;if(!1===this.state.ready)return o.createElement(B,{text:"Fetching Entries"});if(0===this.state.entries.length)return o.createElement(N.a,{as:"h1",textAlign:"center",style:{marginTop:"50px"}},"No Entries!");var t=this.state.entries.map(function(t,n){var r=b.toPairs(t.metadata).map(function(e){return"string"===typeof e[1]&&e[1].startsWith("http")&&(e[1]=o.createElement(Se.a,{href:e[1],content:"Follow Link"})),[q(e[0]),o.createElement(Ie.a,{key:n,content:e[1],trigger:o.createElement("span",null,e[1])})]});return r=r.concat([["Comment",t.comment],["Graph",o.createElement(h.a,{key:n,to:e.props.category+"/"+t.id},o.createElement(Se.a,{color:"blue",content:"View Graph"}))]]),b.fromPairs(r)}),n=Object.keys(this.state.entries[0].metadata).concat(["comment","Graph"]);return o.createElement(Pe.a,{style:{marginTop:"50px",width:"90%",maxWidth:"90%"}},o.createElement(N.a,{as:"h2",textAlign:"center"},this.props.name),o.createElement(Ye,{data:t,tableProps:{striped:!0,size:"small",fixed:!0},header:!0,rowsPerPage:10,columnHeader:n.map(function(e){return q(e)})}))},t}(o.Component),Ze=function(e){function t(t){var n=e.call(this,t)||this;return n.renderEntriesForCategory=function(e,t){return function(n){return o.createElement(Xe,l.a({},n,{name:t,category:e}))}},n.state={entries:[{id:"upload",route:"/",name:"Upload Data",icon:o.createElement(v.a,{name:"upload"}),component:function(){return o.createElement(Ge,{postRoute:"/new"})}}]},n}return l.c(t,e),t.prototype.componentWillMount=function(){var e=this;fetch("/api/categories?uploaded=true").then(function(e){return e.json()}).then(function(t){e.setState({entries:e.state.entries.concat(t.map(function(e){return{id:e.id,name:e.name,route:"/"+e.id}}))})})},t.prototype.render=function(){var e=this;return o.createElement(m.a,null,o.createElement("div",null,o.createElement("div",{id:"siderbar"},o.createElement(g.a,{style:{position:"fixed",width:"150px"},as:y.a,inverted:!0,animation:"overlay",visible:!0,vertical:!0,width:"thin"},this.state.entries.map(function(e,t){return o.createElement(h.a,{to:e.route,key:t},o.createElement(y.a.Item,null,"icon"in e&&e.icon,e.name))}))),o.createElement("div",{id:"content",style:{marginLeft:"150px"}},o.createElement(f.a,null,this.state.entries.map(function(t,n){return void 0!==t.component?o.createElement(E.a,{key:n,exact:!0,path:t.route,component:t.component}):o.createElement(E.a,{key:n,exact:!0,path:t.route,render:e.renderEntriesForCategory(t.id,t.name)})}),o.createElement(E.a,{path:"/:category/:id",exact:!0,component:He})))))},t}(o.Component),$e={edges:[],nodes:[]};var Ke={edge:void 0};var Qe={node:void 0};var et=Object(p.b)({visibleGraph:k()(function(e,t){void 0===e&&(e=le);var n=e;switch(t.type){case I.SET_VISIBLE_NODES:n=l.a({},e,{visibleNodes:t.payload.nodes});break;case I.SET_VISIBLE_EDGES:n=l.a({},e,{visibleEdges:t.payload.edges});break;case I.PULL_IN_NEIGHBORS:var r=de(c=function(e,t,n,r){var a=Array.from(new Set(r.filter(function(n){return(n.from===t||n.to===t)&&b.includes(e.visibleEdgeTypes,n.label)}).reduce(function(e,t){return e.concat([t.from,t.to])},[]))).map(function(e){return n.filter(function(t){return t.id===e})[0]}).reduce(function(t,n){return void 0===e.visibleNodes.find(function(e){return n.id===e.id})?t.concat([n]):t},[]).slice(0,ce);return e.visibleNodes.concat(a)}(e,t.payload.node,t.nodes,t.edges),t.edges),a=ue(b.flatMap(r,function(e){return b.map(e.properties.data,"timestamp")})),i=a[0],o=a[1];n=l.a({},e,{visibleNodes:c,visibleEdges:r,latestEvent:pe(o),earliestEvent:pe(i)});break;case I.HIDE_NODE:r=de(c=e.visibleNodes.filter(function(e){return e.id!==t.payload.node}),e.visibleEdges);var s=ue(b.flatMap(r,function(e){return b.map(e.properties.data,"timestamp")}));i=s[0],o=s[1],n=l.a({},e,{visibleNodes:c,visibleEdges:r,latestEvent:pe(o),earliestEvent:pe(i)});break;case I.ADD_NODE:r=de(c=function(e,t,n){var r=n.filter(function(e){return e.id===t})[0];return e.visibleNodes.map(function(e){return e.id}).indexOf(t)>-1?e.visibleNodes:[r].concat(e.visibleNodes)}(e,t.payload.node,t.nodes),t.edges);var c,d=ue(b.flatMap(r,function(e){return b.map(e.properties.data,"timestamp")}));i=d[0],o=d[1],n=l.a({},e,{visibleNodes:c,visibleEdges:r,latestEvent:pe(o),earliestEvent:pe(i)});break;case I.SET_VISIBLE_NODE_TYPES:n=l.a({},e,{visibleNodeTypes:t.payload.nodeTypes});break;case I.SET_VISIBLE_EDGE_TYPES:n=l.a({},e,{visibleEdgeTypes:t.payload.edgeTypes});break;case I.RUN_MUTATOR_FROM_NODE:var u=t.mutator.mutate(t.visibleNodes,t.visibleEdges,t.visibleNodeTypes,t.visibleEdgeTypes,t.nodes,t.edges,t.selectedNode),p=u.visibleNodes,m=u.visibleEdges,h=ue(b.flatMap(m,function(e){return b.map(e.properties.data,"timestamp")}));i=h[0],o=h[1],n=l.a({},e,{visibleEdges:m,visibleNodes:p,latestEvent:pe(o),earliestEvent:pe(i)});break;default:n=e}return function(e){e.visibleNodes=e.visibleNodes.filter(function(t){return b.includes(e.visibleNodeTypes,t._node_type)});var t=e.visibleNodes.reduce(function(e,t){return e[t.id]=t,e},{});return e.visibleEdges=e.visibleEdges.filter(function(n){return b.includes(e.visibleEdgeTypes,n.label)&&b.has(t,n.from)&&b.has(t,n.to)}),e}(n)},{ignoreInitialState:!0}),toastr:d.reducer,graph:function(e,t){switch(void 0===e&&(e=$e),t.type){case r.SET_EDGES:return l.a({},e,{edges:t.payload.edges});case r.SET_NODES:return l.a({},e,{nodes:t.payload.nodes});case r.SET_NODES_AND_EDGES:return l.a({},e,{nodes:t.payload.nodes,edges:t.payload.edges});default:return e}},selectedNode:function(e,t){switch(void 0===e&&(e=Qe),t.type){case i.SET_SELECTED_NODE:return{node:void 0===t.payload.node?void 0:t.nodes.filter(function(e){return e.id===t.payload.node})[0]};default:return e}},selectedEdge:function(e,t){switch(void 0===e&&(e=Ke),t.type){case a.SET_SELECTED_EDGE:return{edge:void 0===t.payload.edge?void 0:t.edges.filter(function(e){return e.id===t.payload.edge})[0]};default:return e}}}),tt=Object(p.c)(et),nt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l.c(t,e),t.prototype.render=function(){return o.createElement(c.Provider,{store:tt},o.createElement(u.a,{timeOut:2e3,newestOnTop:!1,preventDuplicates:!0,position:"top-center",progressBar:!1,closeOnToastrClick:!0}),o.createElement(Ze,null))},t}(o.Component),rt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function at(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}s.render(o.createElement(nt,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location.toString()).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="/service-worker.js";rt?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):at(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):at(e)})}}()}},[[387,2,1]]]);
//# sourceMappingURL=main.f14c70b0.chunk.js.map